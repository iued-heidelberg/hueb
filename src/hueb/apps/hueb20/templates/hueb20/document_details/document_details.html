{% load i18n %}
<div class="flex flex-auto min-w-full m-10" xmlns:max-width="http://www.w3.org/1999/xhtml">
 <!-- <h1 class="h-full p-6 mr-6 text-2xl font-bold lg:text-lg">1.</h1> -->
<style>
  td { padding-bottom: 20px;
       vertical-align: top;
      }

  /* Tooltip container */
.tooltip {
  position: relative;
  display: inline-block;
}

/* Tooltip text */
.tooltip .tooltiptext {
  visibility: hidden;
  width: 120px;
  background-color: #171717;
  color: #f4f1ea;
  font-size: 0.875rem;
  text-align: center;
  padding: 5px 0;
  border-radius: 5px;

  /* Position the tooltip text - see examples below! */
  position: absolute;
  z-index: 1;
}

/* Show the tooltip text when you mouse over the tooltip container */
.tooltip:hover .tooltiptext {
  visibility: visible;
}
</style>

  <div class="flex-row min-w-full justify-between flex-auto w-2/5 p-6 px-20 bg-opacity-25 bg-sand-300 ">
    <table>
      <tr>
        <td style="width:30%;"><h2 class="text-xl font-thin lg:text-l">{% translate "Titel:" %}</h2></td>
        <td><h2 class="text-xl font-semibold lg:text-l">{{object.title|default_if_none:"-"}}
        </h2></td>
      </tr>
      <tr>
        <td><h2 class="text-xl font-thin lg:text-l">{% translate "Untertitel:" %}</h2></td>
        <td><p class="text-xl lg:text-l">
          {% if object.subtitle != "" %}
          {{object.subtitle}}
          {% else %}
          {{"-"}}
          {% endif %}
        </p></td>
      </tr>
    <div class="flex-no-wrap flex-row">
      <tr class="py-2 pr-8">
        <td><h2 class="text-xl font-thin lg:text-l">{% translate "Ausgabe:" %}</h2></td>
        <td><p class="text-xl lg:text-l">
          {% if object.edition != "" %}
          {{object.edition}}
          {% else %}
          {{"-"}}
          {% endif %}
        </p></td>
      </tr>

      <tr class="py-2 pr-8">
        <td><h2 class="text-xl font-thin lg:text-l">{% translate "Erscheinungsjahr:" %}</h2></td>
        <td><p class="text-xl lg:text-l">

          {% if object.written_in.lower == None and object.written_in.upper == None %}
             -
          {% elif object.written_in.lower|add:"+1" == object.written_in.upper %}
            {{object.written_in.lower}}
          {% else %}

            {% if object.written_in.lower == None %}
              ...
            {% else %}
              {{object.written_in.lower}}
            {% endif %}

            {% if object.written_in.upper == None %}

            {% else %}
              - {{object.written_in.upper|add:"-1"}}
            {% endif %}
          {% endif %}

        </p></td>
      </tr>

      <tr class="py-2 pr-8">
        <td><h2 class="text-xl font-thin lg:text-l">{% translate "Originalsprache:" %}</h2></td>
        <td><p class="text-xl lg:text-l">
              {{object.get_original_language|default_if_none:" - "}}
        </td></p>
      </tr>

      {% if object.originals.exists %}
      <tr class="py-2 pr-8">
        <td><h2 class="text-xl font-thin lg:text-l">{% translate "Übersetzungsprache:" %}</h2></td>
        <td><p class="text-xl lg:text-l">{{object.language|default_if_none:" - "}}</p></td>
      </tr>
      {% endif %}

      <tr class="py-2 pr-8">
        <td><h2 class="text-xl font-thin lg:text-l">{% translate "Kulturkreis:" %}</h2></td>
        <td><p class="text-xl lg:text-l">{{object.cultural_circle|default_if_none:" - "}}</p></td>
      </tr>

      <tr class="py-2 pr-8">
        <td><h2 class="text-xl font-thin lg:text-l">{% translate "Author:" %}</h2></td>
        <td><p class="text-xl break-words lg:text-l font-bold tooltip">
          {% if object.get_original_authors %}
            {% for author in object.get_original_authors %}
              <a href="{% url "personDetailView" author.person.id %}">
              {{author.person}}<br>
              </a>
              <span class="tooltiptext">{% translate "Click to see more" %}</span>
            {% endfor %}
          {% else %}
             -
          {% endif %}
        </p></td>
      </tr>
      {% if object.get_document_type is not object.ORIGINAL %}
      <tr class="py-2 pr-8">
        <td><h2 class="text-xl font-thin lg:text-l">{% translate "Übersetzer:" %}</h2></td>
        <td><p class="text-xl break-words lg:text-l font-bold tooltip">
          {% if object.get_authors.exists %}
            {% for contribution in object.get_authors.all %}
                <a href="{% url "personDetailView" contribution.person.id %}">
                {{contribution.person}}<br>
                </a>
                <span class="tooltiptext">{% translate "Click to see more" %}</span>
            {% endfor %}
          {% else %}
             -
          {% endif %}
        </p></td>
      </tr>
      {% endif %}

      <tr class="py-2 pr-8">
        <td><h2 class="text-xl font-thin lg:text-l">{% translate "Verlag:" %}</h2></td>
        <td><p class="text-xl break-words lg:text-l">
          {% if object.get_publishers.exists %}
            {% for contribution in object.get_publishers.all %}
                {{contribution.person}}<br>
            {% endfor %}
          {% else %}
            -
          {% endif %}
        </p></td>
      </tr>

      <tr class="py-2 pr-8">
        <td><h2 class="text-xl font-thin lg:text-l">{% translate "Erscheinungsort:" %}</h2></td>
        <td><p class="text-xl break-words lg:text-l">{{object.published_location|default_if_none:" - "}}</p></td>
      </tr>

      <tr class="py-2 pr-10">
        <td><h2 class="text-xl font-thin lg:text-l">{% translate "DDC:" %}</h2></td>
        <td><p class="text-xl break-words lg:text-l">{{object.ddc|default_if_none:" - "}}</p></td>
      </tr>

      <tr class="py-2 pr-8">
        <td><h2 class="text-xl font-thin lg:text-l">{% translate "Standorte:" %}</h2></td>
        {% if object.get_filings.exists %}
          <td><p class="text-xl break-words lg:text-l">
            {% for filing in object.get_filings.all %} <!--lame implementation in model document.py wont work for linked douments -->
              {% if filing.link is not None%}<!--a href = {{filing.link}}><p class="block text-5xl font-bold md:text-lg">{{filing.archive}}</p></a-->
              {% else %}
                <p class="text-xl break-words lg:text-l">
                  {{filing.archive}}
                   <br>
                </p>
              {% endif %}
            {% endfor %}
          </p></td>
        {% else %}
          <td><p class="block text-5xl font-bold md:text-lg"> {{" - "}}</p>
          </td>
        {% endif %}
      </tr>

      {% if object.get_document_type is object.ORIGINAL %}
      <tr class="py-2 pr-8">
        <td><h2 class="text-xl font-thin lg:text-l">
          {% translate "Übersetzung:" %}
        </h2></td>
         <td>
            {% for linkedDoc in object.translations.all %}
              {% if linkedDoc.get_document_type is object.BRIDGE %}
                  {% for translation in linkedDoc.translations.all %}
                    <a href="{% url "documentDetailView" translation.id %}">
                    <p class="block text-5xl font-bold md:text-lg tooltip"> {{translation.title}}
                    </a>
                    <span class="tooltiptext">{% translate "Click to see more" %}</span>
                    <br>
                  {% endfor %}
              {% endif %}</p>
              <a href="{% url "documentDetailView" linkedDoc.id %}">
              <p class="block text-5xl font-bold md:text-lg"> {{linkedDoc.title}}
              </a><br></p>
            {% endfor %}
          </td>
      </tr>

      {% else %}
      <tr class="py-2 pr-8">
        <td><h2 class="text-xl font-thin lg:text-l">
          {% translate "Original:" %}
        </h2></td>
          <td>
            {% for linkedDoc in object.originals.all %}
            {% if linkedDoc.get_document_type is object.BRIDGE %}
                  {% for orig in linkedDoc.originals.all %}
                    <a href="{% url "documentDetailView" orig.id %}">
                    <p class="block text-5xl font-bold md:text-lg tooltip"> {{orig.title}}
                    </a><span class="tooltiptext">{% translate "Click to see more" %}</span><br></p>
                  {% endfor %}
            {% elif linkedDoc.get_document_type is object.ORIGINAL %}
              <a href="{% url "documentDetailView" linkedDoc.id %}">
              <p class="block text-5xl font-bold md:text-lg"> {{linkedDoc.title}}
              </a><span class="tooltiptext">{% translate "Click to see more" %}</span><br></p>
            {% endif %}
            {% endfor %}
          </td>
      </tr>
      {% endif %}
      {% if object.get_document_type is object.TRANSLATION  %}
        {% if object.originals.exists %}
          {% if object.originals.first.get_document_type is object.BRIDGE %}
              <td><h2 class="text-xl font-thin lg:text-l">
              {% translate "Brückenübersetzung:" %}
              </h2></td>
              <td>
              {% for bridge in object.originals.all %}
              <a href="{% url "documentDetailView" bridge.id %}">
              <p class="block text-5xl font-bold md:text-lg tooltip"> {{bridge.title}}
              </a><span class="tooltiptext">{% translate "Click to see more" %}</span><br></p>
              {% endfor %}
              </td>
          {% endif %}
        {% endif %}
      {% endif %}
      {% if object.get_document_type is object.BRIDGE  %}
      <tr class="py-2 pr-8">
        <td><h2 class="text-xl font-thin lg:text-l">
          {% translate "Übersetzung:" %}
        </h2></td>
          <td>
            {% for linkedDoc in object.translations.all %}
              <a href="{% url "documentDetailView" linkedDoc.id %}">
              <p class="block text-5xl font-bold md:text-lg tooltip"> {{linkedDoc.title}}
              </a><span class="tooltiptext">{% translate "Click to see more" %}</span><br></p>
            {% endfor %}
          </td>
      </tr>
      {% endif %}

      <tr class="py-2 pr-8">
        <td><h2 class="text-xl font-thin lg:text-l">{% translate "Kommentare:" %}</h2></td>
        {% if object.document_comment.exists %}
          <td><p class="text-xl break-words lg:text-l">
            {% for comment in object.document_comment.all %}
              {% if comment.external %}
                {{comment.text}}
                <br>
              {% endif %}
            {% endfor %}
          </p></td>
        {% else %}
          <td><p class="block text-5xl font-bold md:text-lg"> {{"-"}}</p>
          </td>
        {% endif %}
      </tr>

    </div>
    </table>
  </div>
</div>